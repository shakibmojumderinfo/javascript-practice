<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Asynchronous Javascript</title>
</head>
<body>
    <!-- <h2>Asynchronous Javascript</h2> -->

    <!-- <script>
        console.log("one");

        setTimeout(function(){
            console.log('Two');
        }, 2000)

        setTimeout(function(){
            console.log('three');
        }, 3000)
        
    </script> -->


<!-- interval function -->
    <!-- <script>
        console.log("one");

        // setInterval(function(){
        //     console.log('Two');
        // }, 2000)

        setTimeout(function(){
            console.log('three');
        }, 1000)
        
    </script> -->


    <div style="height: 50px; width: 40%;" class="container ps-5 bg-dark mt-4">
    <h4 class="text-5 text-center p-2 text-white" id="localClock"></h4>
    </div>
<script>
    function myFunction(){
        let date = new Date();
        localDate = date.toLocaleTimeString();
        document.getElementById("localClock").innerHTML = localDate;
    }
    setInterval(myFunction, 1000);
</script>



<div class="container ps-5 mt-5 text-center input-group">
    <input class="form-control" name="input" id="input" type="number" placeholder="Your Mark">
    <button id="submitbutn" class="btn btn-outline-secondary" onclick="startEnrollment()">Submit</button>
</div>

<div class="container ps-5 mt-5 text-center">
    <h4 id="prosess"></h4>
    <h4 id="prosess2"></h4>
    <h4 id="prepare"></h4>
    <h4 id="notFound"></h4>
    <h4 id="finaly"></h4>
</div> 


<!-- asynchronous  -->
<script>

    function startEnrollment(){
    const input = document.getElementById("input").value;
    const submitbtn = document.getElementById("submitbutn");
    const paymentSuccess = true;
    // const input = "";

    function enroll(callback){
        prosess = ("Course enrollment is in Progress");
        console.log(prosess);
        document.getElementById("prosess").innerHTML = prosess;
        
        setTimeout(function(){
            if(paymentSuccess){
                callback();
            } else {
                console.log("Payment failed! ");
            }
        }, 2000);
    }


    function progress(callback){
        prosess2 = ("Course on progress. . . ");
        console.log(prosess2);
        document.getElementById("prosess2").innerHTML = prosess2;
   
    setTimeout (function(){
        if(input >= 70){
            callback();
        } else if(input < 70 ) {
            notFound = ('you could not get enough marks to get the certificate ');
            console.log(notFound);
            document.getElementById("notFound").innerHTML = notFound;
        }
    }, 3000);
}

    function getCertificate(){
    prepare = ('Preparing your certificate');
    console.log(prepare);
    document.getElementById("prepare").innerHTML = prepare;

    setTimeout(function(){
        finaly = ("Congrats! You got the certificate");
        console.log(finaly);
        document.getElementById("finaly").innerHTML = finaly;
    }, 1000);
}

    enroll(function(){
        progress(getCertificate);
    })
}
</script> 




<!-- <div class="container ps-5 mt-5 text-center input-group">
    <input class="form-control" name="input" id="input" type="number" placeholder="Your Mark">
    <button id="submitbutn" class="btn btn-outline-secondary" onclick="startEnrollment()">Submit</button>
</div>

<div class="container ps-5 mt-5 text-center">
    <h4 id="prosess"></h4>
    <h4 id="prosess2"></h4>
    <h4 id="prepare"></h4>
    <h4 id="notFound"></h4>
    <h4 id="finaly"></h4>
</div> -->

<!-- asynchronous
<script>
    function startEnrollment() {
        const input = document.getElementById("input").value;
        const submitbtn = document.getElementById("submitbutn");
        const paymentSuccess = true;

        function enroll(callback) {
            prosess = "Course enrollment is in Progress";
            console.log(prosess);
            document.getElementById("prosess").innerHTML = prosess;

            setTimeout(function () {
                if (paymentSuccess) {
                    callback();
                } else {
                    console.log("Payment failed! ");
                }
            }, 2000);
        }

        function progress(callback) {
            prosess2 = "Course on progress. . . ";
            console.log(prosess2);
            document.getElementById("prosess2").innerHTML = prosess2;

            setTimeout(function () {
                if (input < 80 || input > 80) {
                    callback();
                } else {
                    notFound = 'you could not get enough marks to get the certificate ';
                    console.log(notFound);
                    document.getElementById("notFound").innerHTML = notFound;
                }
            }, 3000);
        }

        function getCertificate() {
            prepare = 'Preparing your certificate';
            console.log(prepare);
            document.getElementById("prepare").innerHTML = prepare;

            setTimeout(function () {
                finaly = "Congrats! You got the certificate";
                console.log(finaly);
                document.getElementById("finaly").innerHTML = finaly;
            }, 1000);
        }

        enroll(function () {
            progress(getCertificate);
        });
    }
</script> -->



</body>
</html>